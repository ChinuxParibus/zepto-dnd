{"version":3,"file":"zepto-dnd.min.js","sources":["zepto-dnd.js"],"names":["$","nextId","isFirefox","navigator","userAgent","toLowerCase","indexOf","isSafari","match","SCROLL_SENSITIVITY","SCROLL_SPEED","document","addEventListener","scroll","e","originalEvent","x","pageX","window","pageXOffset","y","pageY","pageYOffset","winWidth","innerWidth","winHeight","innerHeight","byY","byX","scrollBy","steps","setTimeout","bind","this","Dragging","eventHandler","origin","el","placeholder","Object","defineProperty","get","set","val","remove","prototype","on","apply","Array","slice","call","arguments","off","start","evt","trigger","opts","clonePlaceholder","cloneNode","addClass","dragImageEl","createElement","dragImage","src","HTMLElement","dataTransfer","setDragImage","stop","dragging","parent","MutationObserver","WebKitMutationObserver","MozMutationObserver","matches","selector","fn","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","toArr","nodeList","isOldIE","callback","targets","onAdded","addedNodes","target","removedNodes","onRemoved","observe","push","disconnect","shift","removeEventListener","appName","SelectorObserver","self","NodeList","childsOnly","search","substr","initialized","query","nodes","deep","result","forEach","node","nodeType","parentNode","querySelectorAll","filter","i","timeout","handle","len","length","index","splice","observer","mutations","mutation","clearTimeout","children","childList","subtree","Draggable","element","id","cancel","connectedWith","connectWith","context","ownerDocument","defaultView","each","instance","data","one","create","proxy","before","after","end","forbid","allow","destroy","enable","disabled","disable","prop","effectAllowed","setData","stopPropagation","preventDefault","removeClass","Droppable","accept","over","enter","leave","drop","activate","reset","is","scope","activeClass","hoverClass","clone","append","hide","dropEffect","show","item","Sortable","tag","find","items","tagName","test","lastEntered","lastX","lastY","direction","isEmpty","currentTarget","forcePlaceholderSize","height","parseFloat","css","width","child","isContainer","clientY","clientX","insertBefore","newIndex","toArray","attr","attribute","attrs","generic","constructor","identifier","defaults","name","value","Error","removeData","undefined","extend","draggable","cursor","droppable","sortable","Zepto","jQuery"],"mappings":"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"}